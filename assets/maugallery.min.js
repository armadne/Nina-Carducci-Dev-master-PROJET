!function(t){t.fn.mauGallery=function(a){let l=t.extend({columns:{xs:1,sm:2,md:3},lightBox:!0,lightboxId:"mauLightbox",showTags:!0,tagsPosition:"top"},a);return this.each(function(){let a=t(this);!function a(i){i.css({display:"grid",gap:"15px"});let e=()=>{let t=window.innerWidth,a=l.columns.md;t<576?a=l.columns.xs||a:t<992&&(a=l.columns.sm||a),i.css("grid-template-columns",`repeat(${a}, 1fr)`)};e(),t(window).on("resize",e)}(a),l.showTags&&function a(i){let e=new Set;if(i.find("[data-gallery-tag]").each(function(){e.add(t(this).data("gallery-tag"))}),e.size>0){let o=t("<div>",{class:"gallery-tags"});t("<button>",{class:"gallery-btn active",text:"Tous","data-gallery-tag":"all"}).appendTo(o),e.forEach(a=>{t("<button>",{class:"gallery-btn",text:a,"data-gallery-tag":a}).appendTo(o)}),"top"===l.tagsPosition?i.before(o):i.after(o),o.on("click","button",function(){let a=t(this).data("gallery-tag");o.find("button").removeClass("active"),t(this).addClass("active"),"all"===a?i.find(".gallery-item").show():(i.find(".gallery-item").hide(),i.find(`[data-gallery-tag='${a}']`).show())})}}(a),l.lightBox&&(function a(){if(t("#"+l.lightboxId).length>0)return;let i=t(`
        <div id="${l.lightboxId}" class="modal fade" tabindex="-1">
          <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content bg-dark text-center">
              <div class="modal-body p-0">
                <img src="" class="img-fluid" alt=""/>
              </div>
            </div>
          </div>
        </div>
      `);t("body").append(i)}(),function a(i){i.on("click",".gallery-item",function(){let a=t(this).attr("src");t("#"+l.lightboxId).find("img").attr("src",a),t("#"+l.lightboxId).modal("show")})}(a))})}}(jQuery);